{"timestamp":"2026-02-03 22:50:10:5010","level":"info","message":"CORS Checking origin: http://localhost:5173","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:10:5010","level":"info","message":"Allowed origins: http://localhost:3000, http://localhost:8080, http://127.0.0.1:3000, http://127.0.0.1:8080, http://localhost:5173, http://localhost:5174, http://localhost:5175, http://localhost:3000, http://localhost:5173, http://localhost:5174","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:10:5010","level":"info","message":"CORS Checking origin: http://localhost:5173","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:10:5010","level":"info","message":"Allowed origins: http://localhost:3000, http://localhost:8080, http://127.0.0.1:3000, http://127.0.0.1:8080, http://localhost:5173, http://localhost:5174, http://localhost:5175, http://localhost:3000, http://localhost:5173, http://localhost:5174","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:10:5010","level":"info","message":"CORS Checking origin: http://localhost:5173","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:10:5010","level":"info","message":"Allowed origins: http://localhost:3000, http://localhost:8080, http://127.0.0.1:3000, http://127.0.0.1:8080, http://localhost:5173, http://localhost:5174, http://localhost:5175, http://localhost:3000, http://localhost:5173, http://localhost:5174","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:10:5010","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":1,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:10:5010","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":1,"tags":{"type":"counter","labels":{"method":"GET","endpoint":"/api/auth/profile","status":"started"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:10:5010","level":"warn","message":"Missing API key for GET /api/auth/profile from ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:10:5010","level":"http","message":"GET /api/auth/profile - ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:10:5010","level":"debug","message":"Verifying token: eyJhbGciOi...","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:11:5011","level":"debug","message":"Token verified for uid: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:11:5011","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:11:5011","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:11:5011","level":"debug","message":"Cache miss for user profile: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:11:5011","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:11:5011","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:11:5011","level":"debug","message":"Cache miss for user session: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"[UserService] syncUser called for UID: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"[UserService] additionalData received: {}","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"User saved: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"User synced: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Redis not available, skipping cache set","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Cached user profile: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Redis not available, skipping cache set","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"User session created: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Redis not available, skipping cache set","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Cached session for user: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"User authenticated: d1ctx0lN6AbSOwd1Wkljm8eFBMc2 (passenger) - cached: true","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":1,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"Metric: http_requests_success","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_success","value":1,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":2.155,"tags":{"type":"histogram","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"HTTP 200 GET /api/auth/profile","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/auth/profile","statusCode":200,"duration":2155,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"yqybdeoufcn","correlationId":"4a36f91d-ad6f-477f-a1e4-33cc2d5d1d7e"}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":2,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"Metric: http_requests_success","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_success","value":2,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":2.174,"tags":{"type":"histogram","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"HTTP 200 GET /api/auth/profile","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/auth/profile","statusCode":200,"duration":2174,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"yqybdeoufcn","correlationId":"4a36f91d-ad6f-477f-a1e4-33cc2d5d1d7e"}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":0,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"Metric: http_request_duration_ms","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_ms","value":2212.5932,"tags":{"type":"histogram","labels":{"method":"GET","endpoint":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:12:5012","level":"warn","message":"Slow request detected","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"method":"GET","endpoint":"/profile","duration":2212.5932,"statusCode":200,"requestId":"yqybdeoufcn"}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"::1 - - [03/Feb/2026:17:20:12 +0000] \"GET /api/auth/profile HTTP/1.1\" 200 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\"","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-1,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"CORS Checking origin: http://localhost:5173","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"Allowed origins: http://localhost:3000, http://localhost:8080, http://127.0.0.1:3000, http://127.0.0.1:8080, http://localhost:5173, http://localhost:5174, http://localhost:5175, http://localhost:3000, http://localhost:5173, http://localhost:5174","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"CORS Checking origin: http://localhost:5173","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"Allowed origins: http://localhost:3000, http://localhost:8080, http://127.0.0.1:3000, http://127.0.0.1:8080, http://localhost:5173, http://localhost:5174, http://localhost:5175, http://localhost:3000, http://localhost:5173, http://localhost:5174","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"CORS Checking origin: http://localhost:5173","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"Allowed origins: http://localhost:3000, http://localhost:8080, http://127.0.0.1:3000, http://127.0.0.1:8080, http://localhost:5173, http://localhost:5174, http://localhost:5175, http://localhost:3000, http://localhost:5173, http://localhost:5174","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":0,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":2,"tags":{"type":"counter","labels":{"method":"GET","endpoint":"/api/auth/profile","status":"started"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:12:5012","level":"warn","message":"Missing API key for GET /api/auth/profile from ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"http","message":"GET /api/auth/profile - ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Verifying token: eyJhbGciOi...","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Token verified for uid: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Cache miss for user profile: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Cache miss for user session: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":1,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:12:5012","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":1,"tags":{"type":"counter","labels":{"method":"GET","endpoint":"/api/search/rides","status":"started"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:12:5012","level":"warn","message":"Missing API key for GET /api/search/rides from ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"http","message":"GET /api/search/rides? - ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:12:5012","level":"debug","message":"Cache miss for search: search:any:any:any:any:any:any:departureTime:asc:20","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:13:5013","level":"error","message":"Error searching rides: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["736256332096648189;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at Ride.search (D:\\TripO (2)\\TripO\\backend\\src\\models\\Ride.js:149:41)\n    at SearchService.searchRides (D:\\TripO (2)\\TripO\\backend\\src\\services\\searchService.js:34:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\TripO (2)\\TripO\\backend\\src\\routes\\search.js:119:21"}
{"timestamp":"2026-02-03 22:50:13:5013","level":"error","message":"Error in search service: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["736256332096648189;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at Ride.search (D:\\TripO (2)\\TripO\\backend\\src\\models\\Ride.js:149:41)\n    at SearchService.searchRides (D:\\TripO (2)\\TripO\\backend\\src\\services\\searchService.js:34:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\TripO (2)\\TripO\\backend\\src\\routes\\search.js:119:21"}
{"timestamp":"2026-02-03 22:50:13:5013","level":"error","message":"Error in advanced search: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["736256332096648189;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at Ride.search (D:\\TripO (2)\\TripO\\backend\\src\\models\\Ride.js:149:41)\n    at SearchService.searchRides (D:\\TripO (2)\\TripO\\backend\\src\\services\\searchService.js:34:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\TripO (2)\\TripO\\backend\\src\\routes\\search.js:119:21"}
{"timestamp":"2026-02-03 22:50:13:5013","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":1,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:13:5013","level":"info","message":"Metric: http_requests_error","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_error","value":1,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:13:5013","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":0.166,"tags":{"type":"histogram","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:13:5013","level":"warn","message":"HTTP 500 GET /api/search/rides?","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/search/rides?","statusCode":500,"duration":166,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"pq7aewf6cu","correlationId":"b44aa633-164f-43d6-b551-5848eba86237"}
{"timestamp":"2026-02-03 22:50:13:5013","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":2,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:13:5013","level":"info","message":"Metric: http_requests_error","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_error","value":2,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:13:5013","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":0.183,"tags":{"type":"histogram","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:13:5013","level":"warn","message":"HTTP 500 GET /api/search/rides?","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/search/rides?","statusCode":500,"duration":183,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"pq7aewf6cu","correlationId":"b44aa633-164f-43d6-b551-5848eba86237"}
{"timestamp":"2026-02-03 22:50:13:5013","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":0,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:13:5013","level":"info","message":"Metric: http_request_duration_ms","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_ms","value":206.1356,"tags":{"type":"histogram","labels":{"method":"GET","endpoint":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:13:5013","level":"info","message":"::1 - - [03/Feb/2026:17:20:13 +0000] \"GET /api/search/rides? HTTP/1.1\" 500 134 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\"","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:13:5013","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-1,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:13:5013","level":"info","message":"[UserService] syncUser called for UID: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:13:5013","level":"info","message":"[UserService] additionalData received: {}","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:13:5013","level":"info","message":"User saved: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:13:5013","level":"info","message":"User synced: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:13:5013","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:13:5013","level":"debug","message":"Redis not available, skipping cache set","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:13:5013","level":"debug","message":"Cached user profile: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:13:5013","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:13:5013","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:13:5013","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:13:5013","level":"debug","message":"Redis not available, skipping cache set","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:13:5013","level":"info","message":"User session created: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:13:5013","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:13:5013","level":"debug","message":"Redis not available, skipping cache set","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:13:5013","level":"debug","message":"Cached session for user: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:13:5013","level":"debug","message":"User authenticated: d1ctx0lN6AbSOwd1Wkljm8eFBMc2 (passenger) - cached: true","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":3,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: http_requests_success","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_success","value":3,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":1.128,"tags":{"type":"histogram","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"HTTP 200 GET /api/auth/profile","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/auth/profile","statusCode":200,"duration":1128,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"6nomr6l8rwh","correlationId":"1e4d0d38-18cf-4906-a906-cce3949e7c0a"}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":4,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: http_requests_success","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_success","value":4,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":1.143,"tags":{"type":"histogram","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"HTTP 200 GET /api/auth/profile","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/auth/profile","statusCode":200,"duration":1143,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"6nomr6l8rwh","correlationId":"1e4d0d38-18cf-4906-a906-cce3949e7c0a"}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-2,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: http_request_duration_ms","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_ms","value":1170.2085,"tags":{"type":"histogram","labels":{"method":"GET","endpoint":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"warn","message":"Slow request detected","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"method":"GET","endpoint":"/profile","duration":1170.2085,"statusCode":200,"requestId":"6nomr6l8rwh"}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"::1 - - [03/Feb/2026:17:20:14 +0000] \"GET /api/auth/profile HTTP/1.1\" 200 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\"","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-3,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"CORS Checking origin: http://localhost:5173","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Allowed origins: http://localhost:3000, http://localhost:8080, http://127.0.0.1:3000, http://127.0.0.1:8080, http://localhost:5173, http://localhost:5174, http://localhost:5175, http://localhost:3000, http://localhost:5173, http://localhost:5174","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-2,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":2,"tags":{"type":"counter","labels":{"method":"GET","endpoint":"/api/search/rides","status":"started"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"warn","message":"Missing API key for GET /api/search/rides from ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:14:5014","level":"http","message":"GET /api/search/rides? - ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:14:5014","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:14:5014","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:14:5014","level":"debug","message":"Cache miss for search: search:any:any:any:any:any:any:departureTime:asc:20","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:14:5014","level":"error","message":"Error searching rides: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["14564513762073754164;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at Ride.search (D:\\TripO (2)\\TripO\\backend\\src\\models\\Ride.js:149:41)\n    at SearchService.searchRides (D:\\TripO (2)\\TripO\\backend\\src\\services\\searchService.js:34:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\TripO (2)\\TripO\\backend\\src\\routes\\search.js:119:21"}
{"timestamp":"2026-02-03 22:50:14:5014","level":"error","message":"Error in search service: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["14564513762073754164;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at Ride.search (D:\\TripO (2)\\TripO\\backend\\src\\models\\Ride.js:149:41)\n    at SearchService.searchRides (D:\\TripO (2)\\TripO\\backend\\src\\services\\searchService.js:34:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\TripO (2)\\TripO\\backend\\src\\routes\\search.js:119:21"}
{"timestamp":"2026-02-03 22:50:14:5014","level":"error","message":"Error in advanced search: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["14564513762073754164;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at Ride.search (D:\\TripO (2)\\TripO\\backend\\src\\models\\Ride.js:149:41)\n    at SearchService.searchRides (D:\\TripO (2)\\TripO\\backend\\src\\services\\searchService.js:34:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\TripO (2)\\TripO\\backend\\src\\routes\\search.js:119:21"}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":3,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: http_requests_error","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_error","value":3,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":0.136,"tags":{"type":"histogram","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"warn","message":"HTTP 500 GET /api/search/rides?","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/search/rides?","statusCode":500,"duration":136,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"ii1u3j7eccd","correlationId":"6dd9445d-06cd-4add-ba1c-42afd77afa1d"}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":4,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: http_requests_error","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_error","value":4,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":0.153,"tags":{"type":"histogram","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"warn","message":"HTTP 500 GET /api/search/rides?","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/search/rides?","statusCode":500,"duration":153,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"ii1u3j7eccd","correlationId":"6dd9445d-06cd-4add-ba1c-42afd77afa1d"}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-3,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: http_request_duration_ms","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_ms","value":174.6749,"tags":{"type":"histogram","labels":{"method":"GET","endpoint":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"::1 - - [03/Feb/2026:17:20:14 +0000] \"GET /api/search/rides? HTTP/1.1\" 500 134 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\"","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:14:5014","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-4,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:21:5021","level":"info","message":"CORS Checking origin: http://localhost:5173","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:21:5021","level":"info","message":"Allowed origins: http://localhost:3000, http://localhost:8080, http://127.0.0.1:3000, http://127.0.0.1:8080, http://localhost:5173, http://localhost:5174, http://localhost:5175, http://localhost:3000, http://localhost:5173, http://localhost:5174","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-3,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:22:5022","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":3,"tags":{"type":"counter","labels":{"method":"GET","endpoint":"/api/auth/profile","status":"started"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:22:5022","level":"warn","message":"Missing API key for GET /api/auth/profile from ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"http","message":"GET /api/auth/profile - ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"debug","message":"Verifying token: eyJhbGciOi...","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"debug","message":"Token verified for uid: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"debug","message":"Cache miss for user profile: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"debug","message":"Cache miss for user session: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"info","message":"[UserService] syncUser called for UID: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"info","message":"[UserService] additionalData received: {}","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"info","message":"User saved: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"info","message":"User synced: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"debug","message":"Redis not available, skipping cache set","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"debug","message":"Cached user profile: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:22:5022","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"debug","message":"Redis not available, skipping cache set","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"User session created: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"debug","message":"Redis not available, skipping cache set","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"debug","message":"Cached session for user: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"debug","message":"User authenticated: d1ctx0lN6AbSOwd1Wkljm8eFBMc2 (passenger) - cached: true","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":5,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: http_requests_success","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_success","value":5,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":1.169,"tags":{"type":"histogram","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"HTTP 200 GET /api/auth/profile","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/auth/profile","statusCode":200,"duration":1169,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"2xubl0lvbs","correlationId":"b6e9e2e2-ecc6-490b-9644-13b4c5a4d88c"}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":6,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: http_requests_success","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_success","value":6,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":1.188,"tags":{"type":"histogram","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"HTTP 200 GET /api/auth/profile","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/auth/profile","statusCode":200,"duration":1188,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"2xubl0lvbs","correlationId":"b6e9e2e2-ecc6-490b-9644-13b4c5a4d88c"}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-4,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: http_request_duration_ms","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_ms","value":1217.6356,"tags":{"type":"histogram","labels":{"method":"GET","endpoint":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"warn","message":"Slow request detected","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"method":"GET","endpoint":"/profile","duration":1217.6356,"statusCode":200,"requestId":"2xubl0lvbs"}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"::1 - - [03/Feb/2026:17:20:23 +0000] \"GET /api/auth/profile HTTP/1.1\" 200 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\"","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-5,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"CORS Checking origin: http://localhost:5173","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Allowed origins: http://localhost:3000, http://localhost:8080, http://127.0.0.1:3000, http://127.0.0.1:8080, http://localhost:5173, http://localhost:5174, http://localhost:5175, http://localhost:3000, http://localhost:5173, http://localhost:5174","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"CORS Checking origin: http://localhost:5173","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Allowed origins: http://localhost:3000, http://localhost:8080, http://127.0.0.1:3000, http://127.0.0.1:8080, http://localhost:5173, http://localhost:5174, http://localhost:5175, http://localhost:3000, http://localhost:5173, http://localhost:5174","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-4,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":4,"tags":{"type":"counter","labels":{"method":"GET","endpoint":"/api/auth/profile","status":"started"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"warn","message":"Missing API key for GET /api/auth/profile from ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"http","message":"GET /api/auth/profile - ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"debug","message":"Verifying token: eyJhbGciOi...","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"debug","message":"Token verified for uid: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"debug","message":"Cache miss for user profile: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"debug","message":"Cache miss for user session: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-3,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":3,"tags":{"type":"counter","labels":{"method":"GET","endpoint":"/api/search/rides","status":"started"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"warn","message":"Missing API key for GET /api/search/rides from ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"http","message":"GET /api/search/rides? - ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"debug","message":"Cache miss for search: search:any:any:any:any:any:any:departureTime:asc:20","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"error","message":"Error searching rides: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["13188238528079601727;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at Ride.search (D:\\TripO (2)\\TripO\\backend\\src\\models\\Ride.js:149:41)\n    at SearchService.searchRides (D:\\TripO (2)\\TripO\\backend\\src\\services\\searchService.js:34:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\TripO (2)\\TripO\\backend\\src\\routes\\search.js:119:21"}
{"timestamp":"2026-02-03 22:50:23:5023","level":"error","message":"Error in search service: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["13188238528079601727;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at Ride.search (D:\\TripO (2)\\TripO\\backend\\src\\models\\Ride.js:149:41)\n    at SearchService.searchRides (D:\\TripO (2)\\TripO\\backend\\src\\services\\searchService.js:34:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\TripO (2)\\TripO\\backend\\src\\routes\\search.js:119:21"}
{"timestamp":"2026-02-03 22:50:23:5023","level":"error","message":"Error in advanced search: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["13188238528079601727;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at Ride.search (D:\\TripO (2)\\TripO\\backend\\src\\models\\Ride.js:149:41)\n    at SearchService.searchRides (D:\\TripO (2)\\TripO\\backend\\src\\services\\searchService.js:34:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\TripO (2)\\TripO\\backend\\src\\routes\\search.js:119:21"}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":5,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: http_requests_error","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_error","value":5,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":0.165,"tags":{"type":"histogram","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"warn","message":"HTTP 500 GET /api/search/rides?","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/search/rides?","statusCode":500,"duration":165,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"4oyghlad764","correlationId":"e56f3a4c-6ff9-48ba-b7d4-41038b6a0f40"}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":6,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: http_requests_error","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_error","value":6,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":0.18,"tags":{"type":"histogram","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"warn","message":"HTTP 500 GET /api/search/rides?","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/search/rides?","statusCode":500,"duration":180,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"4oyghlad764","correlationId":"e56f3a4c-6ff9-48ba-b7d4-41038b6a0f40"}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-4,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: http_request_duration_ms","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_ms","value":200.9414,"tags":{"type":"histogram","labels":{"method":"GET","endpoint":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"::1 - - [03/Feb/2026:17:20:23 +0000] \"GET /api/search/rides? HTTP/1.1\" 500 134 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\"","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-5,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"[UserService] syncUser called for UID: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:23:5023","level":"info","message":"[UserService] additionalData received: {}","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"User saved: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"User synced: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"debug","message":"Redis not available, skipping cache set","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"debug","message":"Cached user profile: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"debug","message":"Redis not available, skipping cache set","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"User session created: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"debug","message":"Redis not available, skipping cache set","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"debug","message":"Cached session for user: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"debug","message":"User authenticated: d1ctx0lN6AbSOwd1Wkljm8eFBMc2 (passenger) - cached: true","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":7,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: http_requests_success","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_success","value":7,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":0.967,"tags":{"type":"histogram","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"HTTP 200 GET /api/auth/profile","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/auth/profile","statusCode":200,"duration":967,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"o5imvgujmvn","correlationId":"11d2c908-2289-4e0e-855a-2a8aa243246e"}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":8,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: http_requests_success","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_success","value":8,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":0.984,"tags":{"type":"histogram","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"HTTP 200 GET /api/auth/profile","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/auth/profile","statusCode":200,"duration":984,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"o5imvgujmvn","correlationId":"11d2c908-2289-4e0e-855a-2a8aa243246e"}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-6,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: http_request_duration_ms","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_ms","value":1010.499,"tags":{"type":"histogram","labels":{"method":"GET","endpoint":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"warn","message":"Slow request detected","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"method":"GET","endpoint":"/profile","duration":1010.499,"statusCode":200,"requestId":"o5imvgujmvn"}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"::1 - - [03/Feb/2026:17:20:24 +0000] \"GET /api/auth/profile HTTP/1.1\" 200 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\"","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-7,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"CORS Checking origin: http://localhost:5173","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Allowed origins: http://localhost:3000, http://localhost:8080, http://127.0.0.1:3000, http://127.0.0.1:8080, http://localhost:5173, http://localhost:5174, http://localhost:5175, http://localhost:3000, http://localhost:5173, http://localhost:5174","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-6,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":4,"tags":{"type":"counter","labels":{"method":"GET","endpoint":"/api/search/rides","status":"started"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"warn","message":"Missing API key for GET /api/search/rides from ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"http","message":"GET /api/search/rides? - ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"debug","message":"Cache miss for search: search:any:any:any:any:any:any:departureTime:asc:20","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"error","message":"Error searching rides: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["17911708074286123669;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at Ride.search (D:\\TripO (2)\\TripO\\backend\\src\\models\\Ride.js:149:41)\n    at SearchService.searchRides (D:\\TripO (2)\\TripO\\backend\\src\\services\\searchService.js:34:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\TripO (2)\\TripO\\backend\\src\\routes\\search.js:119:21"}
{"timestamp":"2026-02-03 22:50:24:5024","level":"error","message":"Error in search service: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["17911708074286123669;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at Ride.search (D:\\TripO (2)\\TripO\\backend\\src\\models\\Ride.js:149:41)\n    at SearchService.searchRides (D:\\TripO (2)\\TripO\\backend\\src\\services\\searchService.js:34:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\TripO (2)\\TripO\\backend\\src\\routes\\search.js:119:21"}
{"timestamp":"2026-02-03 22:50:24:5024","level":"error","message":"Error in advanced search: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["17911708074286123669;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at Ride.search (D:\\TripO (2)\\TripO\\backend\\src\\models\\Ride.js:149:41)\n    at SearchService.searchRides (D:\\TripO (2)\\TripO\\backend\\src\\services\\searchService.js:34:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\TripO (2)\\TripO\\backend\\src\\routes\\search.js:119:21"}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":7,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: http_requests_error","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_error","value":7,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":0.134,"tags":{"type":"histogram","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"warn","message":"HTTP 500 GET /api/search/rides?","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/search/rides?","statusCode":500,"duration":134,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"ag3sstjgz8p","correlationId":"daafd23b-a449-4fd0-aed5-50c79b0ddf86"}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":8,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: http_requests_error","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_error","value":8,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":0.149,"tags":{"type":"histogram","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"warn","message":"HTTP 500 GET /api/search/rides?","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/search/rides?","statusCode":500,"duration":149,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"ag3sstjgz8p","correlationId":"daafd23b-a449-4fd0-aed5-50c79b0ddf86"}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-7,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: http_request_duration_ms","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_ms","value":171.0413,"tags":{"type":"histogram","labels":{"method":"GET","endpoint":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"::1 - - [03/Feb/2026:17:20:24 +0000] \"GET /api/search/rides? HTTP/1.1\" 500 134 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\"","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:24:5024","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-8,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:28:5028","level":"info","message":"CORS Checking origin: http://localhost:5173","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:28:5028","level":"info","message":"Allowed origins: http://localhost:3000, http://localhost:8080, http://127.0.0.1:3000, http://127.0.0.1:8080, http://localhost:5173, http://localhost:5174, http://localhost:5175, http://localhost:3000, http://localhost:5173, http://localhost:5174","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:28:5028","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-7,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:28:5028","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":5,"tags":{"type":"counter","labels":{"method":"GET","endpoint":"/api/auth/profile","status":"started"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:28:5028","level":"warn","message":"Missing API key for GET /api/auth/profile from ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:28:5028","level":"http","message":"GET /api/auth/profile - ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:28:5028","level":"debug","message":"Verifying token: eyJhbGciOi...","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:28:5028","level":"debug","message":"Token verified for uid: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:28:5028","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:28:5028","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:28:5028","level":"debug","message":"Cache miss for user profile: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:28:5028","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:28:5028","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:28:5028","level":"debug","message":"Cache miss for user session: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:28:5028","level":"info","message":"[UserService] syncUser called for UID: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:28:5028","level":"info","message":"[UserService] additionalData received: {}","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"User saved: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"User synced: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Redis not available, skipping cache set","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Cached user profile: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Redis not available, skipping cache set","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"User session created: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Redis not available, skipping cache set","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Cached session for user: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"User authenticated: d1ctx0lN6AbSOwd1Wkljm8eFBMc2 (passenger) - cached: true","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":9,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: http_requests_success","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_success","value":9,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":0.972,"tags":{"type":"histogram","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"HTTP 200 GET /api/auth/profile","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/auth/profile","statusCode":200,"duration":972,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"0flpozq5sxj4","correlationId":"ba5fa2fe-7074-4196-9d16-1e2eefd1a24f"}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":10,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: http_requests_success","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_success","value":10,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":0.987,"tags":{"type":"histogram","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"HTTP 200 GET /api/auth/profile","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/auth/profile","statusCode":200,"duration":987,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"0flpozq5sxj4","correlationId":"ba5fa2fe-7074-4196-9d16-1e2eefd1a24f"}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-8,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: http_request_duration_ms","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_ms","value":1012.1536,"tags":{"type":"histogram","labels":{"method":"GET","endpoint":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"warn","message":"Slow request detected","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"method":"GET","endpoint":"/profile","duration":1012.1536,"statusCode":200,"requestId":"0flpozq5sxj4"}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"::1 - - [03/Feb/2026:17:20:29 +0000] \"GET /api/auth/profile HTTP/1.1\" 200 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\"","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-9,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"CORS Checking origin: http://localhost:5173","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Allowed origins: http://localhost:3000, http://localhost:8080, http://127.0.0.1:3000, http://127.0.0.1:8080, http://localhost:5173, http://localhost:5174, http://localhost:5175, http://localhost:3000, http://localhost:5173, http://localhost:5174","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"CORS Checking origin: http://localhost:5173","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Allowed origins: http://localhost:3000, http://localhost:8080, http://127.0.0.1:3000, http://127.0.0.1:8080, http://localhost:5173, http://localhost:5174, http://localhost:5175, http://localhost:3000, http://localhost:5173, http://localhost:5174","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-8,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":6,"tags":{"type":"counter","labels":{"method":"GET","endpoint":"/api/auth/profile","status":"started"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"warn","message":"Missing API key for GET /api/auth/profile from ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"http","message":"GET /api/auth/profile - ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Verifying token: eyJhbGciOi...","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Token verified for uid: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Cache miss for user profile: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Cache miss for user session: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-7,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":5,"tags":{"type":"counter","labels":{"method":"GET","endpoint":"/api/search/rides","status":"started"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"warn","message":"Missing API key for GET /api/search/rides from ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"http","message":"GET /api/search/rides? - ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"debug","message":"Cache miss for search: search:any:any:any:any:any:any:departureTime:asc:20","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"error","message":"Error searching rides: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["5022689012276905847;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at Ride.search (D:\\TripO (2)\\TripO\\backend\\src\\models\\Ride.js:149:41)\n    at SearchService.searchRides (D:\\TripO (2)\\TripO\\backend\\src\\services\\searchService.js:34:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\TripO (2)\\TripO\\backend\\src\\routes\\search.js:119:21"}
{"timestamp":"2026-02-03 22:50:29:5029","level":"error","message":"Error in search service: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["5022689012276905847;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at Ride.search (D:\\TripO (2)\\TripO\\backend\\src\\models\\Ride.js:149:41)\n    at SearchService.searchRides (D:\\TripO (2)\\TripO\\backend\\src\\services\\searchService.js:34:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\TripO (2)\\TripO\\backend\\src\\routes\\search.js:119:21"}
{"timestamp":"2026-02-03 22:50:29:5029","level":"error","message":"Error in advanced search: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["5022689012276905847;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at Ride.search (D:\\TripO (2)\\TripO\\backend\\src\\models\\Ride.js:149:41)\n    at SearchService.searchRides (D:\\TripO (2)\\TripO\\backend\\src\\services\\searchService.js:34:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\TripO (2)\\TripO\\backend\\src\\routes\\search.js:119:21"}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":9,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: http_requests_error","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_error","value":9,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":0.124,"tags":{"type":"histogram","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"warn","message":"HTTP 500 GET /api/search/rides?","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/search/rides?","statusCode":500,"duration":124,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"suaiybcz0vn","correlationId":"1f032b1b-f015-436a-a49a-cf90ab10582e"}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":10,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: http_requests_error","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_error","value":10,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":0.137,"tags":{"type":"histogram","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"warn","message":"HTTP 500 GET /api/search/rides?","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/search/rides?","statusCode":500,"duration":137,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"suaiybcz0vn","correlationId":"1f032b1b-f015-436a-a49a-cf90ab10582e"}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-8,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: http_request_duration_ms","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_ms","value":156.2116,"tags":{"type":"histogram","labels":{"method":"GET","endpoint":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"::1 - - [03/Feb/2026:17:20:29 +0000] \"GET /api/search/rides? HTTP/1.1\" 500 134 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\"","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:29:5029","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-9,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"[UserService] syncUser called for UID: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"[UserService] additionalData received: {}","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"User saved: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"User synced: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"debug","message":"Redis not available, skipping cache set","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"debug","message":"Cached user profile: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"debug","message":"Redis not available, skipping cache set","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"User session created: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"debug","message":"Redis not available, skipping cache set","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"debug","message":"Cached session for user: d1ctx0lN6AbSOwd1Wkljm8eFBMc2","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"debug","message":"User authenticated: d1ctx0lN6AbSOwd1Wkljm8eFBMc2 (passenger) - cached: true","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":11,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: http_requests_success","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_success","value":11,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":0.963,"tags":{"type":"histogram","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"HTTP 200 GET /api/auth/profile","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/auth/profile","statusCode":200,"duration":963,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"vmpplwjw98e","correlationId":"bf4db72a-9a9b-4de0-80a9-1a559f07ece5"}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":12,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: http_requests_success","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_success","value":12,"tags":{"type":"counter","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":0.982,"tags":{"type":"histogram","labels":{"method":"GET","path":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"HTTP 200 GET /api/auth/profile","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/auth/profile","statusCode":200,"duration":982,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"vmpplwjw98e","correlationId":"bf4db72a-9a9b-4de0-80a9-1a559f07ece5"}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-10,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: http_request_duration_ms","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_ms","value":1005.7873,"tags":{"type":"histogram","labels":{"method":"GET","endpoint":"/profile","status":"200"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"warn","message":"Slow request detected","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"method":"GET","endpoint":"/profile","duration":1005.7873,"statusCode":200,"requestId":"vmpplwjw98e"}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"::1 - - [03/Feb/2026:17:20:30 +0000] \"GET /api/auth/profile HTTP/1.1\" 200 - \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\"","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-11,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"CORS Checking origin: http://localhost:5173","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Allowed origins: http://localhost:3000, http://localhost:8080, http://127.0.0.1:3000, http://127.0.0.1:8080, http://localhost:5173, http://localhost:5174, http://localhost:5175, http://localhost:3000, http://localhost:5173, http://localhost:5174","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-10,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":6,"tags":{"type":"counter","labels":{"method":"GET","endpoint":"/api/search/rides","status":"started"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"warn","message":"Missing API key for GET /api/search/rides from ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"http","message":"GET /api/search/rides? - ::1","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"debug","message":"Redis not available in development mode","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"debug","message":"Redis not available, cache miss","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"debug","message":"Cache miss for search: search:any:any:any:any:any:any:departureTime:asc:20","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"error","message":"Error searching rides: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["7349727593458808165;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at Ride.search (D:\\TripO (2)\\TripO\\backend\\src\\models\\Ride.js:149:41)\n    at SearchService.searchRides (D:\\TripO (2)\\TripO\\backend\\src\\services\\searchService.js:34:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\TripO (2)\\TripO\\backend\\src\\routes\\search.js:119:21"}
{"timestamp":"2026-02-03 22:50:30:5030","level":"error","message":"Error in search service: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["7349727593458808165;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at Ride.search (D:\\TripO (2)\\TripO\\backend\\src\\models\\Ride.js:149:41)\n    at SearchService.searchRides (D:\\TripO (2)\\TripO\\backend\\src\\services\\searchService.js:34:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\TripO (2)\\TripO\\backend\\src\\routes\\search.js:119:21"}
{"timestamp":"2026-02-03 22:50:30:5030","level":"error","message":"Error in advanced search: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["7349727593458808165;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at Ride.search (D:\\TripO (2)\\TripO\\backend\\src\\models\\Ride.js:149:41)\n    at SearchService.searchRides (D:\\TripO (2)\\TripO\\backend\\src\\services\\searchService.js:34:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\TripO (2)\\TripO\\backend\\src\\routes\\search.js:119:21"}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":11,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: http_requests_error","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_error","value":11,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":0.118,"tags":{"type":"histogram","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"warn","message":"HTTP 500 GET /api/search/rides?","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/search/rides?","statusCode":500,"duration":118,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"476ujbqjz1c","correlationId":"799d90f3-47f7-44e3-9776-cc9c90659204"}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: http_requests_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_total","value":12,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: http_requests_error","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_requests_error","value":12,"tags":{"type":"counter","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: http_request_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_seconds","value":0.132,"tags":{"type":"histogram","labels":{"method":"GET","path":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"warn","message":"HTTP 500 GET /api/search/rides?","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"request","method":"GET","url":"/api/search/rides?","statusCode":500,"duration":132,"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36","ip":"::1","requestId":"476ujbqjz1c","correlationId":"799d90f3-47f7-44e3-9776-cc9c90659204"}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-11,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: http_request_duration_ms","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"http_request_duration_ms","value":153.5698,"tags":{"type":"histogram","labels":{"method":"GET","endpoint":"/rides","status":"500"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"::1 - - [03/Feb/2026:17:20:30 +0000] \"GET /api/search/rides? HTTP/1.1\" 500 134 \"http://localhost:5173/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\"","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:30:5030","level":"info","message":"Metric: active_connections","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"active_connections","value":-12,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: nodejs_memory_heap_used_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_used_bytes","value":55199176,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: nodejs_memory_heap_total_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_total_bytes","value":60231680,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: nodejs_memory_external_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_external_bytes","value":4245116,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: nodejs_cpu_user_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_user_seconds_total","value":5.015,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: nodejs_cpu_system_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_system_seconds_total","value":2.562,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: nodejs_eventloop_lag_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_eventloop_lag_seconds","value":0.0007318,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Health check test log","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Health Check: database - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"database","status":"healthy","details":{"duration":3,"message":"Database connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.003,"tags":{"type":"histogram","labels":{"check":"database"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":4,"tags":{"type":"counter","labels":{"check":"database","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Health Check: redis - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"redis","status":"healthy","details":{"duration":14,"message":"Redis connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.014,"tags":{"type":"histogram","labels":{"check":"redis"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":4,"tags":{"type":"counter","labels":{"check":"redis","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Health Check: external_services - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"external_services","status":"healthy","details":{"duration":26,"message":"All external services are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.026,"tags":{"type":"histogram","labels":{"check":"external_services"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":4,"tags":{"type":"counter","labels":{"check":"external_services","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Health Check: system_resources - warning","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"system_resources","status":"warning","details":{"duration":36,"message":"High memory usage detected"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.036,"tags":{"type":"histogram","labels":{"check":"system_resources"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":1,"tags":{"type":"counter","labels":{"check":"system_resources","status":"warning"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Health Check: application - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"application","status":"healthy","details":{"duration":47,"message":"All application components are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.047,"tags":{"type":"histogram","labels":{"check":"application"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":4,"tags":{"type":"counter","labels":{"check":"application","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Health check completed: degraded","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","status":"degraded","duration":57,"summary":{"total":5,"healthy":4,"unhealthy":0,"warning":1,"duration":57}}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: health_status","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_status","value":0,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: health_check_total_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_total_duration_seconds","value":0.057,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:50:33:5033","level":"warn","message":"Alert triggered: Database Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alerting","alertId":"database_connection_issues_1770139233333","ruleId":"database_connection_issues","severity":"critical","description":"Database connection count is abnormal"}
{"timestamp":"2026-02-03 22:50:33:5033","level":"warn","message":"ALERT: Database Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alert","alertId":"database_connection_issues_1770139233333","severity":"critical","description":"Database connection count is abnormal","metadata":{"instanceId":"Nigel","environment":"development"}}
{"timestamp":"2026-02-03 22:50:33:5033","level":"debug","message":"No webhook URL configured for alerts","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Email alert would be sent","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alerting","alertId":"database_connection_issues_1770139233333","note":"Email integration not implemented in this example"}
{"timestamp":"2026-02-03 22:50:33:5033","level":"info","message":"Metric: alerts_triggered_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"alerts_triggered_total","value":2,"tags":{"type":"counter","labels":{"rule":"database_connection_issues","severity":"critical"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: nodejs_memory_heap_used_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_used_bytes","value":54870864,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: nodejs_memory_heap_total_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_total_bytes","value":60231680,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: nodejs_memory_external_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_external_bytes","value":4212308,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: nodejs_cpu_user_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_user_seconds_total","value":5.078,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: nodejs_cpu_system_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_system_seconds_total","value":2.609,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: nodejs_eventloop_lag_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_eventloop_lag_seconds","value":0.0005175999999999999,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Health check test log","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Health Check: database - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"database","status":"healthy","details":{"duration":6,"message":"Database connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.006,"tags":{"type":"histogram","labels":{"check":"database"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":5,"tags":{"type":"counter","labels":{"check":"database","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Health Check: redis - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"redis","status":"healthy","details":{"duration":15,"message":"Redis connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.015,"tags":{"type":"histogram","labels":{"check":"redis"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":5,"tags":{"type":"counter","labels":{"check":"redis","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Health Check: external_services - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"external_services","status":"healthy","details":{"duration":25,"message":"All external services are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.025,"tags":{"type":"histogram","labels":{"check":"external_services"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":5,"tags":{"type":"counter","labels":{"check":"external_services","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Health Check: system_resources - warning","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"system_resources","status":"warning","details":{"duration":33,"message":"High memory usage detected"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.033,"tags":{"type":"histogram","labels":{"check":"system_resources"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":2,"tags":{"type":"counter","labels":{"check":"system_resources","status":"warning"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Health Check: application - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"application","status":"healthy","details":{"duration":42,"message":"All application components are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.042,"tags":{"type":"histogram","labels":{"check":"application"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":5,"tags":{"type":"counter","labels":{"check":"application","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Health check completed: degraded","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","status":"degraded","duration":53,"summary":{"total":5,"healthy":4,"unhealthy":0,"warning":1,"duration":53}}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: health_status","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_status","value":0,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: health_check_total_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_total_duration_seconds","value":0.053,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:03:513","level":"warn","message":"Alert triggered: Redis Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alerting","alertId":"redis_connection_issues_1770139263348","ruleId":"redis_connection_issues","severity":"warning","description":"Redis connection count is abnormal"}
{"timestamp":"2026-02-03 22:51:03:513","level":"warn","message":"ALERT: Redis Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alert","alertId":"redis_connection_issues_1770139263348","severity":"warning","description":"Redis connection count is abnormal","metadata":{"instanceId":"Nigel","environment":"development"}}
{"timestamp":"2026-02-03 22:51:03:513","level":"debug","message":"No webhook URL configured for alerts","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:51:03:513","level":"info","message":"Metric: alerts_triggered_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"alerts_triggered_total","value":2,"tags":{"type":"counter","labels":{"rule":"redis_connection_issues","severity":"warning"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: nodejs_memory_heap_used_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_used_bytes","value":54496304,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: nodejs_memory_heap_total_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_total_bytes","value":57085952,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: nodejs_memory_external_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_external_bytes","value":4204116,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: nodejs_cpu_user_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_user_seconds_total","value":5.156,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: nodejs_cpu_system_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_system_seconds_total","value":2.671,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: nodejs_eventloop_lag_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_eventloop_lag_seconds","value":0.0005085,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Health check test log","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Health Check: database - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"database","status":"healthy","details":{"duration":3,"message":"Database connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.003,"tags":{"type":"histogram","labels":{"check":"database"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":6,"tags":{"type":"counter","labels":{"check":"database","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Health Check: redis - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"redis","status":"healthy","details":{"duration":14,"message":"Redis connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.014,"tags":{"type":"histogram","labels":{"check":"redis"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":6,"tags":{"type":"counter","labels":{"check":"redis","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Health Check: external_services - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"external_services","status":"healthy","details":{"duration":25,"message":"All external services are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.025,"tags":{"type":"histogram","labels":{"check":"external_services"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":6,"tags":{"type":"counter","labels":{"check":"external_services","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Health Check: system_resources - warning","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"system_resources","status":"warning","details":{"duration":35,"message":"High memory usage detected"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.035,"tags":{"type":"histogram","labels":{"check":"system_resources"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":3,"tags":{"type":"counter","labels":{"check":"system_resources","status":"warning"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Health Check: application - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"application","status":"healthy","details":{"duration":52,"message":"All application components are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.052,"tags":{"type":"histogram","labels":{"check":"application"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":6,"tags":{"type":"counter","labels":{"check":"application","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Health check completed: degraded","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","status":"degraded","duration":63,"summary":{"total":5,"healthy":4,"unhealthy":0,"warning":1,"duration":63}}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: health_status","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_status","value":0,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: health_check_total_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_total_duration_seconds","value":0.063,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:51:33:5133","level":"warn","message":"Alert triggered: Database Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alerting","alertId":"database_connection_issues_1770139293355","ruleId":"database_connection_issues","severity":"critical","description":"Database connection count is abnormal"}
{"timestamp":"2026-02-03 22:51:33:5133","level":"warn","message":"ALERT: Database Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alert","alertId":"database_connection_issues_1770139293355","severity":"critical","description":"Database connection count is abnormal","metadata":{"instanceId":"Nigel","environment":"development"}}
{"timestamp":"2026-02-03 22:51:33:5133","level":"debug","message":"No webhook URL configured for alerts","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Email alert would be sent","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alerting","alertId":"database_connection_issues_1770139293355","note":"Email integration not implemented in this example"}
{"timestamp":"2026-02-03 22:51:33:5133","level":"info","message":"Metric: alerts_triggered_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"alerts_triggered_total","value":3,"tags":{"type":"counter","labels":{"rule":"database_connection_issues","severity":"critical"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: nodejs_memory_heap_used_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_used_bytes","value":54056816,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: nodejs_memory_heap_total_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_total_bytes","value":57348096,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: nodejs_memory_external_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_external_bytes","value":4212308,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: nodejs_cpu_user_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_user_seconds_total","value":5.265,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: nodejs_cpu_system_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_system_seconds_total","value":2.75,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: nodejs_eventloop_lag_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_eventloop_lag_seconds","value":0.0004883,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Health check test log","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Health Check: database - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"database","status":"healthy","details":{"duration":4,"message":"Database connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.004,"tags":{"type":"histogram","labels":{"check":"database"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":7,"tags":{"type":"counter","labels":{"check":"database","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Health Check: redis - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"redis","status":"healthy","details":{"duration":12,"message":"Redis connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.012,"tags":{"type":"histogram","labels":{"check":"redis"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":7,"tags":{"type":"counter","labels":{"check":"redis","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Health Check: external_services - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"external_services","status":"healthy","details":{"duration":19,"message":"All external services are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.019,"tags":{"type":"histogram","labels":{"check":"external_services"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":7,"tags":{"type":"counter","labels":{"check":"external_services","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Health Check: system_resources - warning","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"system_resources","status":"warning","details":{"duration":26,"message":"High memory usage detected"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.026,"tags":{"type":"histogram","labels":{"check":"system_resources"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":4,"tags":{"type":"counter","labels":{"check":"system_resources","status":"warning"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Health Check: application - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"application","status":"healthy","details":{"duration":33,"message":"All application components are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.033,"tags":{"type":"histogram","labels":{"check":"application"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":7,"tags":{"type":"counter","labels":{"check":"application","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Health check completed: degraded","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","status":"degraded","duration":40,"summary":{"total":5,"healthy":4,"unhealthy":0,"warning":1,"duration":40}}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: health_status","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_status","value":0,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: health_check_total_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_total_duration_seconds","value":0.04,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:03:523","level":"warn","message":"Alert triggered: Redis Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alerting","alertId":"redis_connection_issues_1770139323359","ruleId":"redis_connection_issues","severity":"warning","description":"Redis connection count is abnormal"}
{"timestamp":"2026-02-03 22:52:03:523","level":"warn","message":"ALERT: Redis Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alert","alertId":"redis_connection_issues_1770139323359","severity":"warning","description":"Redis connection count is abnormal","metadata":{"instanceId":"Nigel","environment":"development"}}
{"timestamp":"2026-02-03 22:52:03:523","level":"debug","message":"No webhook URL configured for alerts","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:52:03:523","level":"info","message":"Metric: alerts_triggered_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"alerts_triggered_total","value":3,"tags":{"type":"counter","labels":{"rule":"redis_connection_issues","severity":"warning"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: nodejs_memory_heap_used_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_used_bytes","value":54590224,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: nodejs_memory_heap_total_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_total_bytes","value":57348096,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: nodejs_memory_external_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_external_bytes","value":4204116,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: nodejs_cpu_user_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_user_seconds_total","value":5.328,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: nodejs_cpu_system_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_system_seconds_total","value":2.781,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: nodejs_eventloop_lag_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_eventloop_lag_seconds","value":0.0006401,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Health check test log","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Health Check: database - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"database","status":"healthy","details":{"duration":5,"message":"Database connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.005,"tags":{"type":"histogram","labels":{"check":"database"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":8,"tags":{"type":"counter","labels":{"check":"database","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Health Check: redis - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"redis","status":"healthy","details":{"duration":15,"message":"Redis connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.015,"tags":{"type":"histogram","labels":{"check":"redis"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":8,"tags":{"type":"counter","labels":{"check":"redis","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Health Check: external_services - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"external_services","status":"healthy","details":{"duration":26,"message":"All external services are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.026,"tags":{"type":"histogram","labels":{"check":"external_services"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":8,"tags":{"type":"counter","labels":{"check":"external_services","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Health Check: system_resources - warning","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"system_resources","status":"warning","details":{"duration":35,"message":"High memory usage detected"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.035,"tags":{"type":"histogram","labels":{"check":"system_resources"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":5,"tags":{"type":"counter","labels":{"check":"system_resources","status":"warning"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Health Check: application - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"application","status":"healthy","details":{"duration":47,"message":"All application components are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.047,"tags":{"type":"histogram","labels":{"check":"application"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":8,"tags":{"type":"counter","labels":{"check":"application","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Health check completed: degraded","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","status":"degraded","duration":57,"summary":{"total":5,"healthy":4,"unhealthy":0,"warning":1,"duration":57}}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: health_status","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_status","value":0,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: health_check_total_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_total_duration_seconds","value":0.057,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:52:33:5233","level":"warn","message":"Alert triggered: Database Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alerting","alertId":"database_connection_issues_1770139353371","ruleId":"database_connection_issues","severity":"critical","description":"Database connection count is abnormal"}
{"timestamp":"2026-02-03 22:52:33:5233","level":"warn","message":"ALERT: Database Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alert","alertId":"database_connection_issues_1770139353371","severity":"critical","description":"Database connection count is abnormal","metadata":{"instanceId":"Nigel","environment":"development"}}
{"timestamp":"2026-02-03 22:52:33:5233","level":"debug","message":"No webhook URL configured for alerts","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Email alert would be sent","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alerting","alertId":"database_connection_issues_1770139353371","note":"Email integration not implemented in this example"}
{"timestamp":"2026-02-03 22:52:33:5233","level":"info","message":"Metric: alerts_triggered_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"alerts_triggered_total","value":4,"tags":{"type":"counter","labels":{"rule":"database_connection_issues","severity":"critical"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: nodejs_memory_heap_used_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_used_bytes","value":54072848,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: nodejs_memory_heap_total_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_total_bytes","value":57348096,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: nodejs_memory_external_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_external_bytes","value":4212308,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: nodejs_cpu_user_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_user_seconds_total","value":5.39,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: nodejs_cpu_system_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_system_seconds_total","value":2.812,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: nodejs_eventloop_lag_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_eventloop_lag_seconds","value":0.0006573,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Health check test log","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Health Check: database - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"database","status":"healthy","details":{"duration":4,"message":"Database connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.004,"tags":{"type":"histogram","labels":{"check":"database"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":9,"tags":{"type":"counter","labels":{"check":"database","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Health Check: redis - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"redis","status":"healthy","details":{"duration":12,"message":"Redis connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.012,"tags":{"type":"histogram","labels":{"check":"redis"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":9,"tags":{"type":"counter","labels":{"check":"redis","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Health Check: external_services - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"external_services","status":"healthy","details":{"duration":19,"message":"All external services are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.019,"tags":{"type":"histogram","labels":{"check":"external_services"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":9,"tags":{"type":"counter","labels":{"check":"external_services","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Health Check: system_resources - warning","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"system_resources","status":"warning","details":{"duration":26,"message":"High memory usage detected"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.026,"tags":{"type":"histogram","labels":{"check":"system_resources"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":6,"tags":{"type":"counter","labels":{"check":"system_resources","status":"warning"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Health Check: application - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"application","status":"healthy","details":{"duration":31,"message":"All application components are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.031,"tags":{"type":"histogram","labels":{"check":"application"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":9,"tags":{"type":"counter","labels":{"check":"application","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Health check completed: degraded","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","status":"degraded","duration":40,"summary":{"total":5,"healthy":4,"unhealthy":0,"warning":1,"duration":40}}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: health_status","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_status","value":0,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: health_check_total_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_total_duration_seconds","value":0.04,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:03:533","level":"warn","message":"Alert triggered: Redis Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alerting","alertId":"redis_connection_issues_1770139383382","ruleId":"redis_connection_issues","severity":"warning","description":"Redis connection count is abnormal"}
{"timestamp":"2026-02-03 22:53:03:533","level":"warn","message":"ALERT: Redis Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alert","alertId":"redis_connection_issues_1770139383382","severity":"warning","description":"Redis connection count is abnormal","metadata":{"instanceId":"Nigel","environment":"development"}}
{"timestamp":"2026-02-03 22:53:03:533","level":"debug","message":"No webhook URL configured for alerts","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:53:03:533","level":"info","message":"Metric: alerts_triggered_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"alerts_triggered_total","value":4,"tags":{"type":"counter","labels":{"rule":"redis_connection_issues","severity":"warning"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: nodejs_memory_heap_used_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_used_bytes","value":54613680,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: nodejs_memory_heap_total_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_total_bytes","value":57348096,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: nodejs_memory_external_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_external_bytes","value":4212308,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: nodejs_cpu_user_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_user_seconds_total","value":5.453,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: nodejs_cpu_system_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_system_seconds_total","value":2.828,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: nodejs_eventloop_lag_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_eventloop_lag_seconds","value":0.0005055,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Health check test log","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Health Check: database - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"database","status":"healthy","details":{"duration":4,"message":"Database connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.004,"tags":{"type":"histogram","labels":{"check":"database"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":10,"tags":{"type":"counter","labels":{"check":"database","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Health Check: redis - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"redis","status":"healthy","details":{"duration":14,"message":"Redis connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.014,"tags":{"type":"histogram","labels":{"check":"redis"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":10,"tags":{"type":"counter","labels":{"check":"redis","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Health Check: external_services - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"external_services","status":"healthy","details":{"duration":20,"message":"All external services are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.02,"tags":{"type":"histogram","labels":{"check":"external_services"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":10,"tags":{"type":"counter","labels":{"check":"external_services","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Health Check: system_resources - warning","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"system_resources","status":"warning","details":{"duration":27,"message":"High memory usage detected"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.027,"tags":{"type":"histogram","labels":{"check":"system_resources"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":7,"tags":{"type":"counter","labels":{"check":"system_resources","status":"warning"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Health Check: application - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"application","status":"healthy","details":{"duration":32,"message":"All application components are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.032,"tags":{"type":"histogram","labels":{"check":"application"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":10,"tags":{"type":"counter","labels":{"check":"application","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Health check completed: degraded","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","status":"degraded","duration":38,"summary":{"total":5,"healthy":4,"unhealthy":0,"warning":1,"duration":38}}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: health_status","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_status","value":0,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: health_check_total_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_total_duration_seconds","value":0.038,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:53:33:5333","level":"warn","message":"Alert triggered: Database Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alerting","alertId":"database_connection_issues_1770139413391","ruleId":"database_connection_issues","severity":"critical","description":"Database connection count is abnormal"}
{"timestamp":"2026-02-03 22:53:33:5333","level":"warn","message":"ALERT: Database Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alert","alertId":"database_connection_issues_1770139413391","severity":"critical","description":"Database connection count is abnormal","metadata":{"instanceId":"Nigel","environment":"development"}}
{"timestamp":"2026-02-03 22:53:33:5333","level":"debug","message":"No webhook URL configured for alerts","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Email alert would be sent","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alerting","alertId":"database_connection_issues_1770139413391","note":"Email integration not implemented in this example"}
{"timestamp":"2026-02-03 22:53:33:5333","level":"info","message":"Metric: alerts_triggered_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"alerts_triggered_total","value":5,"tags":{"type":"counter","labels":{"rule":"database_connection_issues","severity":"critical"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metrics Summary","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metrics","summary":{"counters":{"http_requests_total":0,"http_requests_success":0,"http_requests_error":0,"rides_created_total":0,"bookings_created_total":0,"bookings_confirmed_total":0,"bookings_cancelled_total":0,"payments_processed_total":0,"payment_failures_total":0,"booking_failures_total":0,"health_checks_total|check=\"database\",status=\"healthy\"":10,"health_checks_total|check=\"redis\",status=\"healthy\"":10,"health_checks_total|check=\"external_services\",status=\"healthy\"":10,"health_checks_total|check=\"system_resources\",status=\"healthy\"":3,"health_checks_total|check=\"application\",status=\"healthy\"":10,"alerts_triggered_total|rule=\"database_connection_issues\",severity=\"critical\"":5,"alerts_triggered_total|rule=\"redis_connection_issues\",severity=\"warning\"":4,"http_requests_total|method=\"GET\",endpoint=\"/api/auth/profile\",status=\"started\"":6,"http_requests_total|method=\"GET\",path=\"/profile\",status=\"200\"":12,"http_requests_success|method=\"GET\",path=\"/profile\",status=\"200\"":12,"http_requests_total|method=\"GET\",endpoint=\"/api/search/rides\",status=\"started\"":6,"http_requests_total|method=\"GET\",path=\"/rides\",status=\"500\"":12,"http_requests_error|method=\"GET\",path=\"/rides\",status=\"500\"":12,"health_checks_total|check=\"system_resources\",status=\"warning\"":7},"gauges":{"active_users_total":0,"active_rides_total":0,"database_connections":0,"redis_connections":0,"health_status":0,"nodejs_memory_heap_used_bytes":54613680,"nodejs_memory_heap_total_bytes":57348096,"nodejs_memory_external_bytes":4212308,"nodejs_cpu_user_seconds_total":5.453,"nodejs_cpu_system_seconds_total":2.828,"active_connections":-12},"histogramCounts":{"http_request_duration_seconds":0,"search_request_duration_seconds":0,"booking_request_duration_seconds":0,"payment_request_duration_seconds":0,"health_check_duration_seconds|check=\"database\"":10,"health_check_duration_seconds|check=\"redis\"":10,"health_check_duration_seconds|check=\"external_services\"":10,"health_check_duration_seconds|check=\"system_resources\"":10,"health_check_duration_seconds|check=\"application\"":10,"health_check_total_duration_seconds":10,"nodejs_eventloop_lag_seconds":9,"http_request_duration_seconds|method=\"GET\",path=\"/profile\",status=\"200\"":12,"http_request_duration_ms|method=\"GET\",endpoint=\"/profile\",status=\"200\"":6,"http_request_duration_seconds|method=\"GET\",path=\"/rides\",status=\"500\"":12,"http_request_duration_ms|method=\"GET\",endpoint=\"/rides\",status=\"500\"":6}}}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: nodejs_memory_heap_used_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_used_bytes","value":54252216,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: nodejs_memory_heap_total_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_total_bytes","value":57348096,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: nodejs_memory_external_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_external_bytes","value":4195924,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: nodejs_cpu_user_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_user_seconds_total","value":5.484,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: nodejs_cpu_system_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_system_seconds_total","value":2.906,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: nodejs_eventloop_lag_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_eventloop_lag_seconds","value":0.0005183,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Health check test log","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Health Check: database - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"database","status":"healthy","details":{"duration":2,"message":"Database connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.002,"tags":{"type":"histogram","labels":{"check":"database"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":11,"tags":{"type":"counter","labels":{"check":"database","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Health Check: redis - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"redis","status":"healthy","details":{"duration":8,"message":"Redis connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.008,"tags":{"type":"histogram","labels":{"check":"redis"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":11,"tags":{"type":"counter","labels":{"check":"redis","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Health Check: external_services - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"external_services","status":"healthy","details":{"duration":13,"message":"All external services are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.013,"tags":{"type":"histogram","labels":{"check":"external_services"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":11,"tags":{"type":"counter","labels":{"check":"external_services","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Health Check: system_resources - warning","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"system_resources","status":"warning","details":{"duration":18,"message":"High memory usage detected"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.018,"tags":{"type":"histogram","labels":{"check":"system_resources"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":8,"tags":{"type":"counter","labels":{"check":"system_resources","status":"warning"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Health Check: application - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"application","status":"healthy","details":{"duration":26,"message":"All application components are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.026,"tags":{"type":"histogram","labels":{"check":"application"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":11,"tags":{"type":"counter","labels":{"check":"application","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Health check completed: degraded","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","status":"degraded","duration":31,"summary":{"total":5,"healthy":4,"unhealthy":0,"warning":1,"duration":31}}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: health_status","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_status","value":0,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: health_check_total_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_total_duration_seconds","value":0.031,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"warn","message":"Alert triggered: Redis Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alerting","alertId":"redis_connection_issues_1770139443403","ruleId":"redis_connection_issues","severity":"warning","description":"Redis connection count is abnormal"}
{"timestamp":"2026-02-03 22:54:03:543","level":"warn","message":"ALERT: Redis Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alert","alertId":"redis_connection_issues_1770139443403","severity":"warning","description":"Redis connection count is abnormal","metadata":{"instanceId":"Nigel","environment":"development"}}
{"timestamp":"2026-02-03 22:54:03:543","level":"debug","message":"No webhook URL configured for alerts","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:54:03:543","level":"info","message":"Metric: alerts_triggered_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"alerts_triggered_total","value":5,"tags":{"type":"counter","labels":{"rule":"redis_connection_issues","severity":"warning"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:03:543","level":"debug","message":"Cleaned up in-memory cache, 0 entries remaining","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: nodejs_memory_heap_used_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_used_bytes","value":54839928,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: nodejs_memory_heap_total_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_total_bytes","value":57348096,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: nodejs_memory_external_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_external_bytes","value":4220517,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: nodejs_cpu_user_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_user_seconds_total","value":5.546,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: nodejs_cpu_system_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_system_seconds_total","value":2.937,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: nodejs_eventloop_lag_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_eventloop_lag_seconds","value":0.0005003999999999999,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Health check test log","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Health Check: database - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"database","status":"healthy","details":{"duration":3,"message":"Database connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.003,"tags":{"type":"histogram","labels":{"check":"database"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":12,"tags":{"type":"counter","labels":{"check":"database","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Health Check: redis - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"redis","status":"healthy","details":{"duration":7,"message":"Redis connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.007,"tags":{"type":"histogram","labels":{"check":"redis"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":12,"tags":{"type":"counter","labels":{"check":"redis","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Health Check: external_services - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"external_services","status":"healthy","details":{"duration":11,"message":"All external services are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.011,"tags":{"type":"histogram","labels":{"check":"external_services"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":12,"tags":{"type":"counter","labels":{"check":"external_services","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Health Check: system_resources - warning","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"system_resources","status":"warning","details":{"duration":15,"message":"High memory usage detected"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.015,"tags":{"type":"histogram","labels":{"check":"system_resources"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":9,"tags":{"type":"counter","labels":{"check":"system_resources","status":"warning"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Health Check: application - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"application","status":"healthy","details":{"duration":18,"message":"All application components are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.018,"tags":{"type":"histogram","labels":{"check":"application"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":12,"tags":{"type":"counter","labels":{"check":"application","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Health check completed: degraded","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","status":"degraded","duration":22,"summary":{"total":5,"healthy":4,"unhealthy":0,"warning":1,"duration":22}}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: health_status","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_status","value":0,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: health_check_total_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_total_duration_seconds","value":0.022,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:54:33:5433","level":"warn","message":"Alert triggered: Database Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alerting","alertId":"database_connection_issues_1770139473406","ruleId":"database_connection_issues","severity":"critical","description":"Database connection count is abnormal"}
{"timestamp":"2026-02-03 22:54:33:5433","level":"warn","message":"ALERT: Database Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alert","alertId":"database_connection_issues_1770139473406","severity":"critical","description":"Database connection count is abnormal","metadata":{"instanceId":"Nigel","environment":"development"}}
{"timestamp":"2026-02-03 22:54:33:5433","level":"debug","message":"No webhook URL configured for alerts","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Email alert would be sent","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alerting","alertId":"database_connection_issues_1770139473406","note":"Email integration not implemented in this example"}
{"timestamp":"2026-02-03 22:54:33:5433","level":"info","message":"Metric: alerts_triggered_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"alerts_triggered_total","value":6,"tags":{"type":"counter","labels":{"rule":"database_connection_issues","severity":"critical"}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:01:551","level":"error","message":"Failed to check ride reminders: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE","metadata":{"x-debug-tracking-id":["62077308842613346;o=1"]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/tripo-b2414/firestore/indexes?create_composite=Cklwcm9qZWN0cy90cmlwby1iMjQxNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmlkZXMvaW5kZXhlcy9fEAEaCgoGc3RhdHVzEAEaEQoNZGVwYXJ0dXJlVGltZRABGgwKCF9fbmFtZV9fEAE\n    at callErrorFromStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:357:73)\n    at Object.onReceiveStatus (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:340:32)\n    at ServiceClientImpl.<anonymous> (D:\\TripO (2)\\TripO\\backend\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:227:29\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\n    at D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\n    at Object.request (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:130:40)\n    at makeRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:141:28)\n    at retryRequest (D:\\TripO (2)\\TripO\\backend\\node_modules\\retry-request\\index.js:109:5)\n    at StreamProxy.setStream (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:121:37)\n    at StreamingApiCaller.call (D:\\TripO (2)\\TripO\\backend\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1738:23)\n    at Query.get (D:\\TripO (2)\\TripO\\backend\\node_modules\\@google-cloud\\firestore\\build\\src\\reference.js:1726:21)\n    at NotificationSchedulerService.checkRideReminders (D:\\TripO (2)\\TripO\\backend\\src\\services\\notificationSchedulerService.js:65:10)\n    at D:\\TripO (2)\\TripO\\backend\\src\\services\\notificationSchedulerService.js:35:12\n    at Runner.onMatch (D:\\TripO (2)\\TripO\\backend\\node_modules\\node-cron\\dist\\cjs\\tasks\\inline-scheduled-task.js:69:20)\n    at Timeout._onTimeout (D:\\TripO (2)\\TripO\\backend\\node_modules\\node-cron\\dist\\cjs\\scheduler\\runner.js:70:55)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)"}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: nodejs_memory_heap_used_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_used_bytes","value":54494912,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: nodejs_memory_heap_total_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_heap_total_bytes","value":57872384,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: nodejs_memory_external_bytes","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_memory_external_bytes","value":4258302,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: nodejs_cpu_user_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_user_seconds_total","value":5.64,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: nodejs_cpu_system_seconds_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_cpu_system_seconds_total","value":2.968,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: nodejs_eventloop_lag_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"nodejs_eventloop_lag_seconds","value":0.0008333,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Health check test log","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Health Check: database - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"database","status":"healthy","details":{"duration":2,"message":"Database connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.002,"tags":{"type":"histogram","labels":{"check":"database"}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":13,"tags":{"type":"counter","labels":{"check":"database","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Health Check: redis - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"redis","status":"healthy","details":{"duration":9,"message":"Redis connection is healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.009,"tags":{"type":"histogram","labels":{"check":"redis"}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":13,"tags":{"type":"counter","labels":{"check":"redis","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Health Check: external_services - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"external_services","status":"healthy","details":{"duration":16,"message":"All external services are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.016,"tags":{"type":"histogram","labels":{"check":"external_services"}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":13,"tags":{"type":"counter","labels":{"check":"external_services","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Health Check: system_resources - warning","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"system_resources","status":"warning","details":{"duration":22,"message":"High memory usage detected"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.022,"tags":{"type":"histogram","labels":{"check":"system_resources"}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":10,"tags":{"type":"counter","labels":{"check":"system_resources","status":"warning"}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Health Check: application - healthy","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","component":"application","status":"healthy","details":{"duration":28,"message":"All application components are healthy"},"isHealthCheck":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: health_check_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_duration_seconds","value":0.028,"tags":{"type":"histogram","labels":{"check":"application"}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: health_checks_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_checks_total","value":13,"tags":{"type":"counter","labels":{"check":"application","status":"healthy"}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Health check completed: degraded","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"health","status":"degraded","duration":34,"summary":{"total":5,"healthy":4,"unhealthy":0,"warning":1,"duration":34}}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: health_status","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_status","value":0,"tags":{"type":"gauge","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: health_check_total_duration_seconds","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"health_check_total_duration_seconds","value":0.034,"tags":{"type":"histogram","labels":{}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:03:553","level":"warn","message":"Alert triggered: Redis Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alerting","alertId":"redis_connection_issues_1770139503420","ruleId":"redis_connection_issues","severity":"warning","description":"Redis connection count is abnormal"}
{"timestamp":"2026-02-03 22:55:03:553","level":"warn","message":"ALERT: Redis Connection Issues","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"alert","alertId":"redis_connection_issues_1770139503420","severity":"warning","description":"Redis connection count is abnormal","metadata":{"instanceId":"Nigel","environment":"development"}}
{"timestamp":"2026-02-03 22:55:03:553","level":"debug","message":"No webhook URL configured for alerts","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
{"timestamp":"2026-02-03 22:55:03:553","level":"info","message":"Metric: alerts_triggered_total","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644,"category":"metric","metricName":"alerts_triggered_total","value":6,"tags":{"type":"counter","labels":{"rule":"redis_connection_issues","severity":"warning"}},"isMetric":true}
{"timestamp":"2026-02-03 22:55:10:5510","level":"info","message":"SIGINT received, shutting down gracefully","service":"tripo-backend","version":"1.0.0","environment":"development","instanceId":"Nigel","pid":7644}
